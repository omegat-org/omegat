<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;14.&nbsp;Source segmentation</title><link rel="stylesheet" href="OmegaT.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="index.html" title=""><link rel="up" href="index.html" title=""><link rel="prev" href="ch07.translation.memories.html" title="Chapter&nbsp;13.&nbsp;Translation memories"><link rel="next" href="ch09.regexp.html" title="Chapter&nbsp;15.&nbsp;Regular expressions"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;14.&nbsp;Source segmentation</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch07.translation.memories.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch09.regexp.html">Next</a></td></tr></table><hr></div><div class="chapter" title="Chapter&nbsp;14.&nbsp;Source segmentation"><div class="titlepage"><div><div><h2 class="title"><a name="ch08.segmentation"></a>Chapter&nbsp;14.&nbsp;Source segmentation</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="ch08.segmentation.html#segmentation.rules">1. Segmentation rules</a></span></dt><dt><span class="section"><a href="ch08.segmentation.html#rules.priority">2. Rule priority</a></span></dt><dt><span class="section"><a href="ch08.segmentation.html#creating.new.rule">3. Creating a new rule</a></span></dt><dt><span class="section"><a href="ch08.segmentation.html#few.simple.examples">4. A few simple examples</a></span></dt></dl></div><p>Translation memory tools work with textual units called segments.
  <span class="application">OmegaT</span> has two ways to segment a text: by
  paragraph or by sentence segmentation (also referred to as &#8220;rule-based
  segmentation&#8221;). In order to select the type of segmentation, select
  <span class="guimenu"><a class="indexterm" name="d0e6369"></a>Project</span> &#8594; <span class="guimenuitem">Properties...</span> from the main menu and tick or untick the check box
  provided. Paragraph segmentation is advantageous in certain cases, such as
  highly creative or stylistic translations in which the translator may wish
  to change the order of entire sentences; for the majority of projects,
  however, sentence segmentation is a choice to be preferred, since it
  delivers better matches from previous translations. If sentence segmentation
  has been selected, you can setup the rules by selecting <span class="guimenu"><a class="indexterm" name="d0e6380"></a>Options</span> &#8594; <span class="guimenuitem">Segmentation...</span>from the main menu.</p><p>Dependable segmentation rules are already available for many
  languages, so it is likely that you will not need to get involved with
  writing your own segmentation rules. On the other hand this functionality
  can be very useful in special cases, where you can increase your
  productivity by tuning the segmentation rules to the text to be
  translated.</p><p><span class="bold"><strong>Warning: </strong></span>because the text will
  segment differently after filter options have been changed, so you may have
  to start translating from scratch. At the same time the previous valid
  segments in the project translation memory will turn into orphan segments.
  If you change segmentation options when a project is open, you must reload
  the project in order for the changes to take effect.</p><p><span class="application">OmegaT</span> uses the following sequence of
  steps:</p><div class="variablelist"><dl><dt><span class="term"><a class="indexterm" name="d0e6402"></a>Structure level segmentation</span></dt><dd><p><span class="application">OmegaT</span> first parses the text for
        structure-level segmentation. During this process it is only the
        structure of the source file that is used to produce segments.</p><p>For example, text files may be segmented on line breaks, empty
        lines, or not be segmented at all. Files containing formatting
        (OpenOffice.org documents, HTML documents, etc.) are segmented on the
        block-level (paragraph) tags. Translatable object attributes in XHTML
        or HTML files can be extracted as separate segments.</p></dd><dt><span class="term"><a class="indexterm" name="d0e6417"></a>Sentence level segmentation</span></dt><dd><p>After segmenting the source file into structural units,
        <span class="application">OmegaT</span> will segment these blocks further
        into sentences.</p></dd></dl></div><div class="section" title="1.&nbsp;Segmentation rules"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="segmentation.rules"></a>1.&nbsp;Segmentation rules<a class="indexterm" name="d0e6432"></a></h2></div></div></div><p>The process of segmenting can be pictured as follows: the cursor
    moves along the text, one character at a time. At each cursor position
    rules, consisting of a <span class="bold"><strong>Before </strong></span>and
    <span class="bold"><strong>After </strong></span>pattern, are applied in their given
    order to see if any of the<span class="bold"><strong> Before</strong></span>
    patterns are valid for the text on the left and the corresponding
    <span class="bold"><strong>After</strong></span> pattern for the text on the right
    of the cursor. If the rule matches, either the cursor moves on without
    inserting a segment break (for an exception rule) or a new segment break
    is created at the current cursor position (for the break rule).</p><p>The two types of rules behave as follows:</p><div class="variablelist"><dl><dt><span class="term"><a class="indexterm" name="d0e6456"></a>Break rule</span></dt><dd><p>Separates the source text into segments. For example,
          "<span class="emphasis"><em>Did it make sense? I was not sure</em></span>." should be
          split into two segments. For this to happen, there should be a break
          rule for "?", when followed by spaces and a capitalized word. To
          define a rule as a break rule, tick the Break/Exception check
          box.</p></dd></dl></div><div class="variablelist"><dl><dt><span class="term"><a class="indexterm" name="d0e6473"></a>Exception rule</span></dt><dd><p>specify what parts of text should NOT be separated. In spite
          of the period, <span class="emphasis"><em>"Mrs. Dalloway "</em></span> should not be
          split in two segments, so an exception rule should be established
          for Mrs (and for Mr, for Dr, for prof etc), followed by a period. To
          define a rule as an exception rule, leave the Break/Exception check
          box unticked.</p></dd></dl></div><p>The predefined break rules should be sufficient for most European
    languages and Japanese. In view of the flexibility, you may consider
    defining more exception rules for your source language in order to provide
    more meaningful and coherent segments.</p></div><div class="section" title="2.&nbsp;Rule priority"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="rules.priority"></a>2.&nbsp;Rule priority<a class="indexterm" name="d0e6492"></a></h2></div></div></div><p>All segmentation rule sets for a matching language pattern are
    active and are applied in the given order of priority, so rules for
    specific language should be higher than default ones. For example, rules
    for Canadian French (FR-CA) should be set higher than rules for French
    (FR.*), and higher than Default (.*) ones. Thus, when translating from
    Canadian French the rules for Canadian French - if any - will be applied
    first, followed by the rules for French and lastly, by the Default
    rules.</p></div><div class="section" title="3.&nbsp;Creating a new rule"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="creating.new.rule"></a>3.&nbsp;Creating a new rule<a class="indexterm" name="d0e6502"></a></h2></div></div></div><p>Major changes to the segmentation rules should be generally avoided,
    especially after completion of the first draft, but minor changes, such as
    the addition of a recognized abbreviation, can be advantageous.</p><p>In order to edit or expand an existing set of rules, simply click on
    it in the top table. The rules for that set will appear in the bottom half
    of the window.</p><p>In order to create an empty set of rules for a new language pattern
    click <span class="bold"><strong>Add </strong></span>in the upper half of the
    dialog. An empty line will appear at the bottom of the upper table (you
    may have to scroll down to see it). Change the name of the rule set and
    the language pattern to the language concerned and its code (see <a class="link" href="A2.languages.html" title="Appendix&nbsp;B.&nbsp;Languages - ISO 639.2 code list">Appendix B.1 for a list of language codes</a>).
    The syntax of the language pattern conforms to regular expression syntax.
    If your set of rules handles a language-country pair, we advise you to
    move it to the top using the <span class="bold"><strong>Move Up</strong></span>
    button.</p><p>Add the <span class="bold"><strong>Before</strong></span> and<span class="bold"><strong> After</strong></span> patterns. To check their syntax and their
    applicability, it is advisable to use tools which allow you to see their
    effect directly. See the chapter on <a class="link" href="ch09.regexp.html" title="Chapter&nbsp;15.&nbsp;Regular expressions">Regular
    expressions</a>. A good starting point will always be the existing
    rules.</p></div><div class="section" title="4.&nbsp;A few simple examples"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="few.simple.examples"></a>4.&nbsp;<a class="indexterm" name="d0e6537"></a>A few simple examples</h2></div></div></div><div class="informaltable"><table border="1"><colgroup><col width="160" align="left"><col width="50" align="center"><col width="40" align="center"><col width="200" align="left"></colgroup><thead><tr><th align="left">Intention</th><th align="center">Before</th><th align="center">After</th><th align="left">Note</th></tr></thead><tbody><tr><td align="left">Set a segment after a period ('.') and before a
            space</td><td align="center">\.</td><td align="center">\s</td><td align="left">"\." means the character "." "\s" means any white space
            character ((space, tab, new page etc.)</td></tr><tr><td align="left">Do not segment after Mr.</td><td align="center">Mr\.</td><td align="center">\s</td><td align="left">This an exception rule, so the rule check box must not be
            ticked</td></tr><tr><td align="left">Set a segment after "&#12290;" (Japanese period)</td><td align="center">&#12290;</td><td align="center">&nbsp;</td><td align="left">Note that <code class="literal">after</code> is empty</td></tr><tr><td align="left">Do not segment after M. Mr. Mrs. and Ms.</td><td align="center">Mr??s??\.</td><td align="center">\s</td><td align="left">Exception rule - see the use of ? in regular
            expressions</td></tr></tbody></table></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch07.translation.memories.html">Prev</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch09.regexp.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;13.&nbsp;Translation memories&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;15.&nbsp;Regular expressions</td></tr></table></div></body></html>