# Utility classes

## Caching 

OmegaT provide caching utility for MT connectors, dictionary drivers and so on.

### How to create cache object

You should use `LRUCacheFactory` like as follows:

    public class ExmapleConnector extends BaseTranslate {
        private final LRUCache<String, String> cache;

        public ExampleConnector() {
            cache = LRUCacheFactory.getFactory("Weak").createLRUCache(500);  // take "weak" strategy with size 500
            CoreEvents.registerProjectChangeListener(eventType -> cache.cleanUp());
        }

        @Override
        public String translate(Language sLang, Language tLang, String text) {
            String result;
            result = cache.get(text);
            if (result == null) {  // when there is no cache hit.
                result = query(sLang, tLang, text);
            }
            if (result != null) {
                cache.put(text, result);  // remember for future
            }
        }

        private String query(Language sLang, Language tLang, String text) {
            // actual qeury for web service.
        }
    }

You can use `LRUCache` API which provides additional methods `cleanUp` and `getMaxCacheSize` method
over `Map` interface.  You will want to call `cleanUp` when `project change` event fired.
Please refer javadoc for `LRUCacheFactory` utility class.
